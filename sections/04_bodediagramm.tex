\section{Bodediagramm}

Beispiele verschiedener Bodediagramm und zugehötiger Pol-Nullstellen-Diagramme \\
siehe Skript, Kapitel 5.4.3 (S. 222)


\subsection{Bodediagramme mit Matlab}

\lstinputlisting{snippets/bode.m}


\subsection{Approximationen im Bodediagramm}{230}

\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Pol im Ursprung}

    \begin{outline}
        \1 $H(s) = \frac{\alpha}{s} \cbl{= \frac{2}{s}}$
            \2 Betrag $=$ Gerade mit Steigung $- 20 \, \deci \bel / \Dek$, Schnittpunkt mit $0 \, \deci\bel$-Linie bei $\omega = \alpha$
            \2 Phase $- \frac{\pi}{2} = \const$
    \end{outline}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Nullstelle im Ursprung}

    \begin{outline}
        \1 $H(s) = \alpha \cdot s \cbl{= 3\cdot s}$
            \2 Betrag $=$ Gerade mit Steigung $+ 20 \, \deci \bel / \Dek$, Schnittpunkt mit $0 \, \deci\bel$-Linie bei $\omega = \frac{1}{\alpha}$
            \2 Phase $+ \frac{\pi}{2} = \const$
    \end{outline}
\end{minipage}

\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_pol_in_ursprung}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_nullstelle_in_ursprung}
\end{minipage}


\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Reeller Pol}

    \begin{outline}
        \1 $H(s) = \frac{\alpha}{s + \alpha} = \frac{1}{\frac{s}{\alpha} + 1} \cbl{= \frac{4}{s + 4}}$
            \2 Betrag $=$ Konstante mit Wert $0 \, \deci \bel$ von $\omega = 0$ bis $\omega = \alpha$; 
                für $\omega > \alpha$ Gerade mit Steigung $- 20 \, \deci \bel / \Dek$ 
                durch Punkt mit Amplitude $0 \, \deci \bel$ und $\omega = \alpha$
            \2 Phase $=$ Konstante mit Wert $0$ bis $\omega < \frac{\alpha}{10}$; 
                für $\omega > 10 \alpha$ Konstante mit Wert $- \frac{\pi}{2}$; dazwischen eine Gerade
                (bei $\omega = \alpha$ beträgt Phase $- \frac{\pi}{4}$)
    \end{outline}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Reelle Nullstelle}

    \begin{outline}
        \1 $H(s) = \frac{s + \alpha}{\alpha} = \frac{s}{\alpha} + 1 \cbl{= \frac{s + 5}{5}}$
            \2 Betrag $=$ Konstante mit Wert $0 \, \deci \bel$ von $\omega = 0$ bis $\omega = \alpha$; 
                für $\omega > \alpha$ Gerade mit Steigung $+ 20 \, \deci \bel / \Dek$ 
                durch Punkt mit Amplitude $0 \, \deci \bel$ und $\omega = \alpha$
            \2 Phase $=$ Konstante mit Wert $0$ bis $\omega < \frac{\alpha}{10}$; 
                für $\omega > 10 \alpha$ Konstante mit Wert $+ \frac{\pi}{2}$; dazwischen eine Gerade
                (bei $\omega = \alpha$ beträgt Phase $+ \frac{\pi}{4}$)
    \end{outline}

\end{minipage}

\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_reeller_pol}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_reelle_nullstelle}
\end{minipage}
\hfill
    

\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Konj.-komplexe Pole}

    Voraussetzung: $\abs{q_p} > \frac{1}{2}$

    \begin{outline}
        \1 $H(s) = \frac{\omega_p^2}{s^2 + s \frac{\omega_p}{q_p} + \omega_p^2} \cbl{= \frac{2^2}{s^2 + s \frac{2}{3} + 2^2}}$
            \2 Betrag $=$ Konstante mit Wert $0 \, \deci \bel$ von $0$ bis $\frac{\omega_p}{2}$; 
                für $\omega > 2\omega_p$ eine Gerade mit Steiung $- 40 \, \deci \bel / \Dek$; 
                Überhöhung bei $\omega = \omega_p$ mit Maximalwert $20 \cdots \log_{10}(q_p)$;
                Approximation der Überhöhung von mit weiteren Geraden
            \2 Phase $=$ Konstante mit Wert $0$ bis $\omega < \frac{\omega_p}{10^{\frac{1}{2 q_p}}}$; 
                für $\omega > \omega_p \cdot 10^{\frac{1}{2 q_p}}$  Konstante mit Wert $-\pi$; dazwischen eine Gerade
                (bei $\omega = \omega_p$ beträgt Phase $- \frac{\pi}{2}$)
    \end{outline}
\end{minipage}
\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Konj.-komplexe NS} 

    Voraussetzung: $\abs{q_z} > \frac{1}{2}$

    \begin{outline}
        \1 $H(s) = \frac{s^2 + s \frac{\omega_z}{q_z} + \omega_z^2}{\omega_z^2} \cbl{= \frac{s^2 + s \frac{2}{3} + 2^2}{2^2}}$
            \2 Betrag $=$ Konstante mit Wert $0 \, \deci \bel$ von $0$ bis $\frac{\omega_p}{2}$; 
                für $\omega > 2\omega_p$ eine Gerade mit Steiung $+ 40 \, \deci \bel / \Dek$; 
                Senke bei $\omega = \omega_p$ mit Minimalwert $-20 \cdots \log_{10}(q_p)$;
                Approximation der Senke mit weiteren Geraden
            \2 Phase $=$ Konstante mit Wert $0$ bis $\omega < \frac{\omega_p}{10^{\frac{1}{2 q_p}}}$; 
                für $\omega > \omega_p \cdot 10^{\frac{1}{2 q_p}}$  Konstante mit Wert $+\pi$; dazwischen eine Gerade
                (bei $\omega = \omega_p$ beträgt Phase $+ \frac{\pi}{2}$)
    \end{outline}

\end{minipage}


\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_konjuguert-komplexe_pole}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \include{tikz/bode-plot_konjuguert-komplexe_nullstellen}
\end{minipage}


\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Konstanter Faktor}

    \begin{outline}
        \1 $H(s) = \alpha \cdot e^{\jimg \beta} \cbl{= 3 \cdot e^{\jimg \frac{\pi}{2}}}$
            \2 Betrag $= 20 \cdot \log_{10}(\alpha) = \const$
            \2 Phase $= \beta = \const$
    \end{outline}
    
    \include{tikz/bode-plot_konstanter_faktor}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\columnwidth}
    \raggedright
    \subsubsection{Weitere Bemerkungen}

    \begin{outline}
        \1 \textbf{Inverser Frequenzgang:}
            \2 Amplitudengang an $0 \, \deci \bel$-Linie spiegeln
            \2 Phasengang an $0 \, \rad$- bzw. $0 \, \degree$-Linie spiegeln
        \1 \textbf{Serieschaltung von mehreren Teilsystemen}
            \2 Erfolgt durch \textbf{grafische Addition} der einzelnen Systeme
        \1 Bei Knickpunkten ist Approximationsfehler am grössten
    \end{outline}

\end{minipage}


% \subsection{Vorgehen: Bodediagramm zeichnen}

% % Von Reglelungstechnik 2 (mit Anpassungen)
% Das Diagramm wird approximativ mit \textbf{Geraden} gezeichnet!

% \begin{outline}
%     \1 Übertragungsfunktion $H(s)$ in folgende Form bringen:
%         $$ G(s) = K \cdot (s)^v \cdot \frac{(1 + T_{n0} \cdot s)\cdot (1 + T_{n1} \cdot s) \cdot \ldots}
%         {(1 + T_{p0} \cdot s)\cdot (1 + T_{p1} \cdot s) \cdot \ldots} \cdot e^{- s T_t} $$
%         \2 Für $\omega = 0$ sind alle $(1 + T \cdot s) = 1 = 0 \, \deci \bel$
%         \2 Für $\omega = \frac{1}{T}$ sind alle  $(1 + T \cdot s) = 1 + \jimg = \sqrt{2} \cdot e^{\jimg \frac{\pi}{4}} 
%             = 3 \, \deci \bel \angle 45 \, \degree$ % CHECK or change
%     \1 Frequenzen der Nullstellen berechnen: $\omega = \frac{1}{T_n}$
%     \1 Frequenzen der Polstellen berechnen: $\omega = \frac{1}{T_p}$

%     \1 Jede \textbf{Nullstelle} bewirkt
%         \2 einen Knick um $+ 20 \, \deci \bel$ / Dekade \textbf{nach oben} im Amplitudengang
%         \2 einen Phasenhub von $+ 90 \, \degree$ über 2 Dekaden \textrightarrow\ $+ 45 \, \degree$ beim Knick
%     \1 Jede \textbf{Polstelle} bewirkt
%         \2 einen Knick um $- 20 \, \deci \bel$ / Dekade \textbf{nach unten} im Amplitudengang
%         \2 einen Phasenverlust von $- 90 \, \degree$ über 2 Dekaden \textrightarrow\ $- 45 \, \degree$ beim Knick
%     \1 Einzelne Faktoren einzeichnen \textrightarrow\ Wenn Faktor quadriert ist, zwei mal einzeichnen!
%     \1 Grafische Addition der Faktoren für gesamten Frequenzgang
% \end{outline}
